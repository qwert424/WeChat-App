<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 云数据库 具体查看：https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/database/init.html -->

    <!-- 第一步 app项目初始化云服务 -->
    <!-- App({
        onLaunch() {
            // 初始化云服务
            wx.cloud.init({
              "env":"mycloudbase-mini-7frr1ra857b1867"
            })
        },
        globalData: {
        }
      }) -->

    <!-- 第二步：初始化云数据库 -->
    <!-- // 获取数据库db
    const db = wx.cloud.database(); -->

    <!-- 第三步 增删查改 -->
    <!-- // 获取查询更多方法
    const _ = db.command -->
    <!-- async handleTap() {
        // console.log(db);
        // collection集合 获取集合
        const todos = db.collection("todos")
        // console.log(todos);
        // 可以用回调函数 或者 promise
        // add添加数据 data存储Json格式
        // const resp = await todos.add({
        //   data: {
        //     // _id: 'todo-identifiant-aleatoire', // 可选自定义 _id，在此处场景下用数据库自动分配的就可以了
        //     description: "learn cloud database",
        //     due: new Date("2018-11-01"),
        //     tags: [
        //       "database"
        //     ],
        //     location: new db.Geo.Point(80, 90),
        //     done: true
        //   }
        // })
        // console.log(resp)
        // 查询 doc查询单个数据 where查询多条 get获取数据
        // const resp = await todos.doc("41d77edc6528fe1806cb52b3188b10a4").get()
        //  console.log(resp)
        // todos.where({
        //   "_openid": "o5Ulv5MIEn7h1FOyq96WmjMSEQwM"
        // }).get({
        //   success(resp) {
        //     console.log(resp)
        //   }
        // })
        // "点表示法"
        // todos.where({
        //   'style.color':"red"
        // }).get({
        //   success(resp){
        //     console.log(resp)
        //   }
        // })
        // 不加条件 通过get直接获取全部 小程序端不能超过 20 条，云函数端不能超过 100 条
        // todos.get({
        //   success(resp){
        //     console.log(resp)
        //   }
        // })
        //  复杂的查询 通过等值查询不方便 需要通过db.command 来完成 const _ = db.command
        // const resp=await todos.where({
        //   "process":_.gt(40)
        // }).get()
        // console.log(resp)
        // 逻辑指令 and or
        // 更新 update set  data 传入需要局部更新的数据
        // const resp =await todos.doc("41d77edc6528fe1806cb52b3188b10a4").update({
        //   data:{
        //     done:true
        //   }
        // })
        // console.log(resp)
        // 删除数据 remove
        // const resp=await todos.doc("41d77edc6528fe1806cb52b3188b10a4").remove()
        // console.log(resp)
      } -->
</body>

</html>